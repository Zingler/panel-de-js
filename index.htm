<!DOCTYPE html>
<html>
  <head>
    <script src="src/stats.min.js"></script>
  </head>
  <body>

    <div style="display: flex">
      <div class="game" id="game-container-left"> </div>
      <div style="min-width: 20px" > </div>
      <div class="game" id="game-container-right"> </div>
    </div>

    <script type="module">
      import {Game}     from './src/game.js';
      import {Renderer} from './src/renderer.js';
      import {Keyboard} from './src/keyboard.js';
      import {Cursor} from './src/cursor.js';
      import {AISimpleton} from './src/ai/aiSimpleton.js';
      import {AIInput} from './src/ai/aiInput.js';

      
      var stats = new Stats();
			//stats.showPanel( 0 );
			//document.body.appendChild( stats.dom );

      const game = new Game();
      const keyboard = new Keyboard({});
      const cursor = new Cursor(keyboard, game.board);
      game.addCursor(cursor);

      const gameTwo = new Game();

      const aiTwoInput = new AIInput();
      const aiTwo = new AISimpleton({board: gameTwo.board, input: aiTwoInput});
      const cursorTwo = new Cursor(aiTwoInput, gameTwo.board);
      gameTwo.addCursor(cursorTwo);

      const renderer = new Renderer('game-container-left', game.board);
      const rendererTwo = new Renderer('game-container-right', gameTwo.board);

      function animate() {
        stats.begin();

        game.tick();
        renderer.draw(game);

        aiTwo.tick();
        gameTwo.tick();
        rendererTwo.draw(gameTwo);

        stats.end();

        requestAnimationFrame(animate);
      }

      animate();
    </script>

  </body>
</html>